/**
 * Bundled by jsDelivr using Rollup v2.56.3 and Terser v5.7.1.
 * Original file: /npm/idb-keyval@6.0.2/dist/compat.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import n from "./db-safari.js"; function t(n) { return new Promise((function (t, r) { n.oncomplete = n.onsuccess = function () { return t(n.result) }, n.onabort = n.onerror = function () { return r(n.error) } })) } function r(r, e) { var u = n().then((function () { var n = indexedDB.open(r); return n.onupgradeneeded = function () { return n.result.createObjectStore(e) }, t(n) })); return function (n, t) { return u.then((function (r) { return t(r.transaction(e, n).objectStore(e)) })) } } var e; function u() { return e || (e = r("keyval-store", "keyval")), e } function o(n) { var r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : u(); return r("readonly", (function (r) { return t(r.get(n)) })) } function i(n, r) { var e = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : u(); return e("readwrite", (function (e) { return e.put(r, n), t(e.transaction) })) } function c(n) { var r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : u(); return r("readwrite", (function (r) { return n.forEach((function (n) { return r.put(n[1], n[0]) })), t(r.transaction) })) } function a(n) { var r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : u(); return r("readonly", (function (r) { return Promise.all(n.map((function (n) { return t(r.get(n)) }))) })) } function f(n, r) { var e = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : u(); return e("readwrite", (function (e) { return new Promise((function (u, o) { e.get(n).onsuccess = function () { try { e.put(r(this.result), n), u(t(e.transaction)) } catch (n) { o(n) } } })) })) } function s(n) { var r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : u(); return r("readwrite", (function (r) { return r.delete(n), t(r.transaction) })) } function l(n) { var r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : u(); return r("readwrite", (function (r) { return n.forEach((function (n) { return r.delete(n) })), t(r.transaction) })) } function v() { var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : u(); return n("readwrite", (function (n) { return n.clear(), t(n.transaction) })) } function d(n, r) { return n("readonly", (function (n) { return n.openCursor().onsuccess = function () { this.result && (r(this.result), this.result.continue()) }, t(n.transaction) })) } function h() { var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : u(), t = []; return d(n, (function (n) { return t.push(n.key) })).then((function () { return t })) } function g() { var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : u(), t = []; return d(n, (function (n) { return t.push(n.value) })).then((function () { return t })) } function p() { var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : u(), t = []; return d(n, (function (n) { return t.push([n.key, n.value]) })).then((function () { return t })) } export { v as clear, r as createStore, s as del, l as delMany, p as entries, o as get, a as getMany, h as keys, t as promisifyRequest, i as set, c as setMany, f as update, g as values };
//# sourceMappingURL=/sm/7b1aac4d3f043e65fdbe0604a9e57ce129b179f85de1e5a9607ec70a550272c3.map