declare module DB {
    export interface WeightData {
        date: string
        weight: number | undefined
        bedtime: string | undefined
        sleep: number | undefined
        waist: number | undefined
        comments: string | undefined
    }

    export interface Settings {
        lastSyncedId: number | undefined
    }

    export interface UserSettings {
        earliestDate: string | undefined
        height: number | undefined
        goalWeight: number | undefined
    }

    export interface ChartSettings {
        duration?: number
        durationUnit?: "month" | "year" | "week"
    }

    export type Updated = Set<IDBValidKey>
}

declare module Form {
    type FormReturn<T> = { [key in keyof T]: string }
    export function getFormData(form: HTMLFormElement): any
    export interface UserSettings extends FormReturn<DB.UserSettings> {}
    export interface WeightData extends FormReturn<DB.WeightData> {}
    export interface ChartSettings extends FormReturn<DB.ChartSettings> {}
}

declare module Functions {
    export function setDefaults<T, K extends keyof T>(o: T, defaults: [K, T[K]][]): T
}
